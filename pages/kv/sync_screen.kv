<SyncScreen>:
	title: title
	dir: dir
	log: log
	sync_button: sync_button
	resolve_all_button: resolve_all_button

	MDBoxLayout:
		orientation: "vertical"

		MDToolbar:
			id: title
			left_action_items: [["arrow-left", lambda x: app.goTo('main',True)]]
			right_action_items: [["delete", lambda x: root.delete_dialog()]]

		MDBoxLayout:
			orientation: "vertical"
        	padding: dp(20)

			MDLabel:
				size_hint: (1,0.2)
				id: dir
				halign: "center"

			MDSpinner:
				id: spiner
				size_hint: None, None
				size: dp(0), dp(0)
				pos_hint: {'center_x': .5, 'center_y': .5}
				active: False

			RecycleView:
				size_hint: (1,0.6)
				id: rv
				key_viewclass: 'viewclass'
				key_size: 'height'

				RecycleBoxLayout:
					padding: dp(5)
					default_size: None, dp(60)
					default_size_hint: 1, None
					size_hint_y: None
					height: self.minimum_height
					orientation: 'vertical'
			
			AnchorLayout:
				size_hint: (1,0.2)
				anchor_x: "center"
				anchor_y: "center"

				MDBoxLayout:
					orientation: "horizontal"
					spacing: dp(20)
				
					MDRaisedButton:
						id: sync_button
						text: "Sync"
						on_press: root.sync_now()
					
					MDBoxLayout:
						id: resolve_all_button

					MDLabel:
						size_hint: (1,0.2)
						id: log
						halign: "right"